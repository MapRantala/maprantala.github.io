<!DOCTYPE html>
<html class="nojs" lang="en-us" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>arcpy.ListFeatureClasses() Bug – Node Dangles</title>
<meta name="description" content="I was recently re-evaluating our back-up procedures and discovered and found a nasty bug with the arcpy’s ListFeatureClassesrequest. If you have a feature class in a …">
<meta name="created" content="2014-04-02T18:59:06-0500">
<meta name="modified" content="2014-04-02T18:59:06-0500">
<meta name="author" content="Matt">

<meta property="og:site_name" content="Node Dangles">
<meta property="og:title" content="arcpy.ListFeatureClasses() Bug">
<meta property="og:url" content="https://maprantala.com/2014/04/02/arcpy.listfeatureclasses-bug/">
<meta property="og:type" content="article">

<meta name="generator" content="Hugo 0.80.0" />
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">


<link rel="canonical" href="https://maprantala.com/2014/04/02/arcpy.listfeatureclasses-bug/">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

<link rel="stylesheet" href="/css/styles.159e5347492c734a666a2678db9a478c339b9ad376372e062cd19572540448a1.css">
<link rel="stylesheet" href="/css/print.27fc184f8670f41a2690985390779e7b20335a8fadff8fa015cf9417ffe50c36.css" media="print">

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "headline": "arcpy.ListFeatureClasses() Bug",
    "datePublished": "2014-04-02T18:59:06-05:00",
    "dateModified": "2014-04-02T18:59:06-05:00",
    "url" : "https://maprantala.com/2014/04/02/arcpy.listfeatureclasses-bug/",
    "description": "I was recently re-evaluating our back-up procedures and discovered and found a nasty bug with the arcpy’s ListFeatureClassesrequest. If you have a feature class in a …",
    "keywords": ["arcgis","arcpy","ListFeatureClasses"],
    "author": {
      "@type": "Person",
      "name": "Matt"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://maprantala.com"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Node Dangles",
      "url": "https://maprantala.com"
    }
  }
</script>

<script src="/js/script-early.min.a8d899ac88f2a778985767b86ce681945e3fa2069c3c9efd17e5e5b594d3ba1f.js"></script>
<script defer src="/js/lib/umbrella.min.e2bb46ea729a2df1793c868bff01df1f4a4889a5c8c97a2f176aebb9c514b3e6.js"></script>
<script defer src="/js/script.min.f7f56769569fdf7a80d073b6775c6cd9ed8ae528864cd3f2aa1c8c3fe73f87ea.js"></script>


</head>

<body class="single-page">
<div class="page layout__page layout__sidebar-second">
<header class="header layout__header">
<a href="/" title="Home" rel="home" class="header__logo"><img src="/images/logo.png" alt="Home" class="header__logo-image"></a>
<h1 class="header__site-name">
<a href="/" title="Home" class="header__site-link" rel="home"><span>Node Dangles</span></a>
</h1>
<div class="region header__region">
</div>
</header>

<nav class="main-menu layout__navigation">
<h2 class="visually-hidden">Main menu</h2>
<ul class="navbar">
<li><a href="/">Home</a></li>
<li><a href="/posts/" class="active" aria-current="page">Posts</a></li>
</ul>
</nav>


<main class="main layout__main">
<article class="section-posts single-view">
<header>
<h1 class="title ">arcpy.ListFeatureClasses() Bug</h1>
<div class="tags">
Tags:
<ul>
<li><a href="/tags/arcgis">arcgis</a></li>
<li><a href="/tags/arcpy">arcpy</a></li>
<li><a href="/tags/listfeatureclasses">ListFeatureClasses</a></li>
</ul>
</div>
</header>
<div class="content">
<p>I was recently re-evaluating our back-up procedures and discovered and found a nasty bug with the arcpy’s <!-- raw HTML omitted -->ListFeatureClasses<!-- raw HTML omitted --> request. If you have a feature class in a feature dataset with the same name, ListFeatureClasses may not find it or anything else in that feature dataset.</p>
<p>Unfortunately, we recently made our daily backup a python-based system that uses ListFeatureClasses and got bit by this bug.</p>
<p>After discovering missing data in our backups, I reconstructed what happened and found this bug. Below is arcpy code that iterates through the feature datasets in a geodatabase and lists the feature classes:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>And here is a screen shot of the contents of a test enterprise geodatabase, you’ll see it has a feature data set named “outcrops” that has a feature class also named “outcrops” within it:<br>
<a href="https://i1.wp.com/maprantala.com/wp-content/uploads/2014/04/sandbox.png"><!-- raw HTML omitted --></a></p>
<p>And the results list only the feature dataset:</p>
<p><a href="https://i0.wp.com/maprantala.com/wp-content/uploads/2014/04/results.png"><!-- raw HTML omitted --></a></p>
<p>But if I rename the feature dataset (e.g. outcrop_fd), the results are what I would hope for:</p>
<p><a href="https://i0.wp.com/maprantala.com/wp-content/uploads/2014/04/results.png"><!-- raw HTML omitted --></a> <a href="https://i2.wp.com/maprantala.com/wp-content/uploads/2014/04/results2.png"><!-- raw HTML omitted --></a></p>
<p>I found that the feature class does not even need to be within the feature dataset and also the problem does not always occur, I have had the code successfully run in some cases.</p>
<p>Once I confirmed the problem, I did find <!-- raw HTML omitted -->this thread<!-- raw HTML omitted --> from almost three years ago that mentions the bug. One poster indicated the same thing occurs in ArcObjects which leads me to think something may not be getting registered right in the sde tables.</p>
<p>I was not able to re-create this using either personal or file geodatabases.</p>
<p>So I adopting the policy of not using the same name for a feature dataset as for a feature class.</p>
<p> </p>


</div>
</article>
</main>


<footer class="footer layout__footer">
<p><span>© Node Dangles</span></p>


</footer>

</div>
</body>
</html>
