<!DOCTYPE html>
<html class="nojs" lang="en-us" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Checking to see if a Field Index Exists Using Arcpy (ArGIS 10.0) redux – Node Dangles</title>
<meta name="description" content="I’ve previously posted python code to check if a field index exists for both ArcGIs 9.3 and ArcGIS 10.0. Recently I have been working on a process that was using this …">
<meta name="created" content="2011-07-05T12:53:34-0500">
<meta name="modified" content="2011-07-05T12:53:34-0500">
<meta name="author" content="Matt">

<meta property="og:site_name" content="Node Dangles">
<meta property="og:title" content="Checking to see if a Field Index Exists Using Arcpy (ArGIS 10.0) redux">
<meta property="og:url" content="https://maprantala.com/2011/07/05/checking-to-see-if-a-field-index-exists-using-arcpy-argis-10.0-redux/">
<meta property="og:type" content="article">

<meta name="generator" content="Hugo 0.80.0" />
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">


<link rel="canonical" href="https://maprantala.com/2011/07/05/checking-to-see-if-a-field-index-exists-using-arcpy-argis-10.0-redux/">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">

<link rel="stylesheet" href="/css/styles.159e5347492c734a666a2678db9a478c339b9ad376372e062cd19572540448a1.css">
<link rel="stylesheet" href="/css/print.27fc184f8670f41a2690985390779e7b20335a8fadff8fa015cf9417ffe50c36.css" media="print">

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "headline": "Checking to see if a Field Index Exists Using Arcpy (ArGIS 10.0) redux",
    "datePublished": "2011-07-05T12:53:34-05:00",
    "dateModified": "2011-07-05T12:53:34-05:00",
    "url" : "https://maprantala.com/2011/07/05/checking-to-see-if-a-field-index-exists-using-arcpy-argis-10.0-redux/",
    "description": "I’ve previously posted python code to check if a field index exists for both ArcGIs 9.3 and ArcGIS 10.0. Recently I have been working on a process that was using this …",
    "keywords": ["arcgisscripting","arcpy","argis 10","ESRI"],
    "author": {
      "@type": "Person",
      "name": "Matt"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://maprantala.com"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Node Dangles",
      "url": "https://maprantala.com"
    }
  }
</script>

<script src="/js/script-early.min.a8d899ac88f2a778985767b86ce681945e3fa2069c3c9efd17e5e5b594d3ba1f.js"></script>
<script defer src="/js/lib/umbrella.min.e2bb46ea729a2df1793c868bff01df1f4a4889a5c8c97a2f176aebb9c514b3e6.js"></script>
<script defer src="/js/script.min.f7f56769569fdf7a80d073b6775c6cd9ed8ae528864cd3f2aa1c8c3fe73f87ea.js"></script>


</head>

<body class="single-page">
<div class="page layout__page layout__sidebar-second">
<header class="header layout__header">
<a href="/" title="Home" rel="home" class="header__logo"><img src="/images/logo.png" alt="Home" class="header__logo-image"></a>
<h1 class="header__site-name">
<a href="/" title="Home" class="header__site-link" rel="home"><span>Node Dangles</span></a>
</h1>
<div class="region header__region">
</div>
</header>

<nav class="main-menu layout__navigation">
<h2 class="visually-hidden">Main menu</h2>
<ul class="navbar">
<li><a href="/">Home</a></li>
<li><a href="/posts/" class="active" aria-current="page">Posts</a></li>
</ul>
</nav>


<main class="main layout__main">
<article class="section-posts single-view">
<header>
<h1 class="title ">Checking to see if a Field Index Exists Using Arcpy (ArGIS 10.0) redux</h1>
<div class="tags">
Tags:
<ul>
<li><a href="/tags/arcgisscripting">arcgisscripting</a></li>
<li><a href="/tags/arcpy">arcpy</a></li>
<li><a href="/tags/argis-10">argis 10</a></li>
<li><a href="/tags/esri">ESRI</a></li>
</ul>
</div>
</header>
<div class="content">
<p>I’ve previously posted python code to check if a field index exists for both <a href="http://maprantala.com/2011/01/27/checking-to-see-if-a-field-index-exists-using-python/">ArcGIs 9.3</a> and <a href="http://maprantala.com/2011/02/21/checking-to-see-if-a-field-index-exists-using-arcpy-argis-10-0/">ArcGIS 10.0</a>.</p>
<p>Recently I have been working on a process that was using this code but it was not working because it looks for an index with a specific name.  It was not working in this case because the name of the indexes was getting incremented as they were being created.  For example, I was building an index on the table C5ST, field RelateId ([C5IX].[Relateid]) named I_C5IX_RelateId.  That worked fine until we switched our process so now we keep multiple versions of some tables, each with a date-based suffix.</p>
<p>We now have tables name C5St_20110625 and C5St_20110626–the Index-name scheme, however was still creating I_C5IX_RelateId and it worked great on the first one.  But when it created the second one, even on a different table, it was automatically name I_C5IX_RelateId_2 even though the name I_C5IX_RelateId was used when trying to create the index.</p>
<p>Before generating relates, our code checks to see if the key fields are indexed, and if they are not, builds  an index.  Because of the naming situation, multiple, duplicate indexes were being created.  Probably not too harmful but it is a little messy.</p>
<p>So I re-wrote the code so that you pass the function the table name and field name that you want to check and it checks to see if there is an index existing for that field and return a Boolean.  The one little wrinkle I put in is to account for indexes that span multiple fields–the ” if (iIndex.fields[0].Name.upper() == fieldname.upper()):” statement is checking the index to see if it is on a single field or multiple fields.</p>
<p> </p>
<blockquote>
<p>def fieldHasIndex(tablename,fieldname):<br>
if not arcpy.Exists(tablename):<br>
return False</p>
<p>tabledescription = arcpy.Describe(tablename)</p>
<p>for iIndex in tabledescription.indexes:<br>
if (len(iIndex.fields)==1):<br>
if (iIndex.fields[0].Name.upper() == fieldname.upper()):<br>
return True</p>
<p>return False</p>
</blockquote>
<!-- raw HTML omitted -->


</div>
</article>
</main>


<footer class="footer layout__footer">
<p><span>© Node Dangles</span></p>


</footer>

</div>
</body>
</html>
